<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <title>Secretaría de Transporte | Acceso</title>
  <base href="/">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <meta name="description" content="Secretaría de Transporte">
  <meta name="keywords" content="Secretaría de Transporte">
  <meta name="author" content="Jalisco">

  <link rel="icon" href="{{ url_for('static', filename='assets/favicon.ico') }}">

  <!-- Montserrat (igual que el sitio) -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">

  <style>
    :root{
      --color-dep:#ffffff; /* lo trae tu HTML, lo dejo igual */
      --bg:#fafafa;
      --txt:#67737a;
      --muted:#6e6b7b;
      --shadow:0 4px 15px rgba(0,0,0,.12);
      --shadow-sm:0 .125rem .25rem rgba(34,41,47,.075);
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:"Montserrat", Helvetica, Arial, serif !important;
      background:var(--bg);
      color:var(--muted);
    }

    /* Container principal como tu main.container (con sombra y padding-top grande) */
    main.container{
      width:100%;
      max-width:1200px;
      margin:0 auto;
      min-height:91vh;
      padding-top:160px;              /* igual al que muestras */
      padding-left:1rem;
      padding-right:1rem;
    }
    @media (max-width:576px){
      main.container{padding-top:100px}
    }

    .card{
      background:#fff;
      box-shadow:var(--shadow);
      border-radius:10px;
      padding:0;
      overflow:hidden;
    }

    /* Layout tipo bootstrap */
    .row{display:flex;flex-wrap:wrap;margin-left:-10px;margin-right:-10px}
    .col{padding-left:10px;padding-right:10px;width:100%}
    @media (min-width:992px){
      .col-lg-6{flex:0 0 50%;max-width:50%}
    }

    .content{
      padding: 3.5rem 2.2rem;
    }
    @media (max-width:576px){
      .content{padding: 2.2rem 1.2rem;}
    }

    .fund{
      text-align:left;
      font: normal normal bold 40px/45px Montserrat;
      letter-spacing:0;
      color:var(--txt);
      margin:0 0 10px;
    }
    .find{
      text-align:left;
      font: normal normal normal 18px/32px Montserrat;
      letter-spacing:0;
      color:var(--txt);
      margin:0 0 18px;
    }

    label{
      display:block;
      font-weight:600;
      color:#4b4b4b;
      margin: 12px 0 6px;
      font-size:13px;
    }

    input{
      width:100%;
      padding: 14px 14px;
      border: 1px solid #e6e6e6;
      border-radius: 10px;
      font-family: inherit;
      font-size: 14px;
      outline: none;
      background:#fff;
    }

    input:focus{
      border-color: rgba(218,218,218,1);
      box-shadow: 0 0 0 .2rem rgba(218,218,218,.25);
    }

    .btn{
      display:inline-block;
      font-weight:500;
      border: 1px solid transparent;
      padding:.786rem 1.5rem;
      font-size:1rem;
      line-height:1;
      border-radius:.358rem;
      cursor:pointer;
      transition: background-color .15s ease, border-color .15s ease;
      box-shadow:none;
      font-family: inherit;
    }

    .btn-light{
      color:#2a2e30;
      background-color:#f6f6f6;
      border-color:#f6f6f6;
      box-shadow: var(--shadow-sm);
    }
    .btn-light:hover{
      background-color:#e3e3e3;
      border-color:#ddd;
    }

    .actions{
      margin-top:16px;
      display:flex;
      gap:12px;
      align-items:center;
      flex-wrap:wrap;
    }

    .hint{
      font-size:12px;
      color:#82868b;
    }

    /* password toggle */
    .password-wrap{position:relative}
    .toggle-pass{
      position:absolute;
      right:10px;
      top:50%;
      transform:translateY(-50%);
      border:none;
      background:transparent;
      cursor:pointer;
      padding:6px 8px;
      border-radius:8px;
      color:#67737a;
      font-weight:600;
      font-size:12px;
      font-family:inherit;
    }
    .toggle-pass:focus{
      outline: 4px solid rgba(236,205,50,.35);
    }

    /* lado derecho logo */
    .right{
      display:flex;
      align-items:center;
      justify-content:center;
      padding: 2.5rem 2rem;
    }
    .right img{
      width:100%;
      max-width:520px;
      height:auto;
    }

    /* flashes */
    .flash{
      margin: 12px 0 0;
      padding: 10px 12px;
      border-radius: 10px;
      font-size: 13px;
      border: 1px solid transparent;
    }
    .flash.error{
      background: rgba(234,84,85,.08);
      color:#ea5455;
      border-color: rgba(234,84,85,.25);
    }
    .flash.success{
      background: rgba(40,199,111,.10);
      color:#1f7a47;
      border-color: rgba(40,199,111,.25);
    }

    /* Botón flotante accesibilidad (opcional, para que se vea idéntico) */
    #float-button{
      position:fixed;
      bottom:5%;
      left:5%;
      z-index:999;
      border-radius:100%;
      height:55px;
      width:55px;
      padding:0;
      border:0;
      background:#f6f6f6;
      box-shadow: var(--shadow-sm);
      cursor:pointer;
    }
    #float-button:focus{outline: 4px solid rgba(236,205,50,.35)}
    #float-button img{width:28px;height:28px}

  </style>
</head>

<body>

  <!-- Accesibilidad flotante (si no lo quieres, bórralo) -->
  <button id="float-button" type="button" aria-label="Abrir Menu de Accesibilidad">
    <img src="{{ url_for('static', filename='assets/images/ico_accesibilidad.svg') }}" alt="Accesibilidad del Sitio">
  </button>

  <main class="container">
    <section class="card">
      <div class="row">
        <!-- izquierda -->
        <div class="col col-lg-6">
          <div class="content">
            <p class="fund">Panel de acceso</p>
            <p class="find">Ingresa tu usuario y contraseña para continuar.</p>

            <form method="POST" action="{{ url_for('login') }}" autocomplete="on">
              <!-- IMPORTANTE: tus nombres en Flask son username/password -->
              <label for="username">Usuario</label>
              <input id="username" name="username" type="text" placeholder="Escribe tu usuario" required>

              <label for="password">Contraseña</label>
              <div class="password-wrap">
                <input id="password" name="password" type="password" placeholder="Escribe tu contraseña" required>
                <button class="toggle-pass" type="button" id="togglePass">MOSTRAR</button>
              </div>

              <div class="actions">
                <button class="btn btn-light" type="submit">Entrar</button>
                <span class="hint">Si olvidaste tus accesos, contacta al administrador.</span>
              </div>

              <!-- Flash messages -->
              {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
                  {% for category, message in messages %}
                    <div class="flash {{ category }}">{{ message }}</div>
                  {% endfor %}
                {% endif %}
              {% endwith %}
            </form>
          </div>
        </div>

        <!-- derecha -->
        <div class="col col-lg-6">
          <div class="right">
            <img src="{{ url_for('static', filename='assets/images/logo_jalisco_2024_2030.svg') }}" alt="Gobierno de Jalisco">
          </div>
        </div>

      </div>
    </section>
  </main>

  <script>
    const pass = document.getElementById("password");
    const btn = document.getElementById("togglePass");
    btn.addEventListener("click", () => {
      const isPass = pass.type === "password";
      pass.type = isPass ? "text" : "password";
      btn.textContent = isPass ? "OCULTAR" : "MOSTRAR";
    });
  </script>
</body>
</html>
